(function(){if(window.DMP_CONTEXT){return;}
window.DMP_CONTEXT={__version__:'5.7.9',contexts:{},contextsByName:{},lastContext:null,bundleFunctions:{},set:function(version,contextid,data,templates){if(DMP_CONTEXT.__version__!=version){console.warn('DMP framework version is '+version+', while dmp-common.js is '+DMP_CONTEXT.__version__+'. Unexpected behavior may occur.');}
DMP_CONTEXT.contexts[contextid]={id:contextid,data:data,templates:templates,triggerCount:0};DMP_CONTEXT.lastContext=DMP_CONTEXT.contexts[contextid];for(var i=0;i<templates.length;i++){if(typeof DMP_CONTEXT.contextsByName[templates[i]]==="undefined"){DMP_CONTEXT.contextsByName[templates[i]]=[];}
DMP_CONTEXT.contextsByName[templates[i]].push(contextid);}},get:function(option){var ret=DMP_CONTEXT.getAll(option);if(ret.length==0){return undefined;}
return ret[ret.length-1];},getAll:function(option){var ret=[];if(!option&&document.currentScript&&document.currentScript.getAttribute('data-context')){option=document.currentScript;}
if(!option&&DMP_CONTEXT.lastContext){ret.push(DMP_CONTEXT.lastContext.data);}
else if(typeof option==='string'||option instanceof String){var contextids=DMP_CONTEXT.contextsByName[option];if(typeof contextids!=="undefined"){for(var i=0;i<contextids.length;i++){var c=DMP_CONTEXT.contexts[contextids[i]];if(typeof c!=="undefined"){ret.push(c.data);}}}}
else if(option&&option.nodeType===1&&option.nodeName.toLowerCase()=='script'&&option.getAttribute('data-context')){var c=DMP_CONTEXT.contexts[option.getAttribute('data-context')];if(typeof c!=="undefined"){ret.push(c.data);}}
return ret;},linkBundleFunction(template,func){if(typeof DMP_CONTEXT.bundleFunctions[template]==="undefined"){DMP_CONTEXT.bundleFunctions[template]=func;}},checkBundleLoaded(contextid){var context=DMP_CONTEXT.contexts[contextid];if(typeof context==="undefined"){return;}
for(var i=0;i<context.templates.length;i++){var template=context.templates[i];if(typeof DMP_CONTEXT.bundleFunctions[template]==="undefined"){return;}}
while(context.triggerCount>0){context.triggerCount=Math.max(0,context.triggerCount-1);for(var i=0;i<context.templates.length;i++){var template=context.templates[i];if(DMP_CONTEXT.bundleFunctions[template]){DMP_CONTEXT.bundleFunctions[template]();}}}},triggerBundleContext(contextid){var context=DMP_CONTEXT.contexts[contextid];if(typeof context==="undefined"){return;}
context.triggerCount++;DMP_CONTEXT.checkBundleLoaded(contextid);},};})()